<form action="" method="POST" name="form" class="ui form {% if form.errors %}error{% endif %}">
    {{ form.hidden_tag() }}
    {% for field in form: %}
    {% if not field.flags.hidden %}
    <div class="field {% if field.errors %}error{% endif %} {% if field.flags.required %}required{% endif %}">
        {{ field.label }}
        {{ field }}
    </div>
    {% endif %}
    {% endfor %}
    <button class="ui button" type="submit">Submit</button>
    {% if form.errors %}
    <div class="ui error message">
      <ul class="list">
      {% for field_name, field_errors in form.errors|dictsort if field_errors %}
        {% for error in field_errors %}
        <li><strong>{{ form[field_name].label }}</strong>: {{ error }}</li>
        {% endfor %}
      {% endfor %}
      </ul>
    </div>
    {% endif %}
</form>
